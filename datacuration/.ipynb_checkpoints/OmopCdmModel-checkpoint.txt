'''
generated by datamodel-codegen:
filename:  DatasetSchema.json
timestamp: 2025-02-06T14:19:19+00:00
NOTE: if modifying the model then we need to update the version in the setup.py and pyproject.toml files to create a new wheel
'''

from __future__ import annotations

from enum import Enum
from typing import Dict, List, Optional

from pydantic import BaseModel, Field


class Value(BaseModel):
    format: str = Field(
        ..., description='Expected format of the variable value (categorical or not).'
    )
    dataType: Optional[str] = Field(None, description='Python data type.')
    unique: Optional[str] = Field(
        None,
        description='Boolean flag of whether the values are unique for each record or not.',
    )
    category: Optional[Dict[str, str]] = Field(
        None,
        description='For categorical variables, this value lists the numeric values and their labels.',
    )
    unitOfMeasure: Optional[str] = Field(
        None, description='Specifies the value unit of measure where applicable.'
    )


class Ontology(BaseModel):
    source: List[str] = Field(..., description='URI of meta thesaurus entries')


class Variable(BaseModel):
    name: str = Field(..., description='Variable name.')
    label: str = Field(..., description='A description of the variable.')
    value: Value = Field(..., description='A description variable value.')
    identifier: Optional[str] = Field(
        None, description='Specify if the value is an identifying field for the file.'
    )
    ontology: Optional[Ontology] = Field(
        None,
        description='Lists any applicable meta thesaurus entries related to the variable.',
    )
    surveyQuestion: Optional[str] = Field(
        None,
        description='If the value was derived from a survey question then this provides the question text.',
    )
    source: Optional[str] = Field(
        None, description='Specifies where the variable originates.'
    )
    fileFormat: Optional[str] = Field(
        None,
        description='If the variable references a file, specify the format of the file.',
    )
    intUniqueValues: Optional[int] = Field(
        None, description='Number of unique values in the field.'
    )
    dctCdm: Optional[CdmFieldModel] = Field(
        None,
        description='Simply a copy of the field definitions from the CDM v5.4 spreadsheet.',
    )



class File(BaseModel):
    strFileName: str = Field(..., description='The name of the file.')
    recordCount: Optional[int] = Field(
        None, description='Number of records found in the file.'
    )
    type: Optional[str] = Field(
        None, description='A description of the file type used for HTTP requests.'
    )
    format: Optional[str] = Field(None, description='A description of the file type.')
    strDirectoryLabel: str = Field(
        ...,
        description='This a tag used in the organizing of the file within the Dataverse dataset (can be thought of as both a tag and file directory).',
    )
    strDataDescription: str = Field(
        ..., description='A description of the file purpose.'
    )
    lstCatgories: List[str] = Field(
        ...,
        description='Used in tagging or keywords for finding the file within the dataset.',
    )
    variables: Optional[List[Variable]] = Field(
        None,
        description='Provides the list of variables or columns in a data table and the details about the variable.',
    )
    tarcInternalReference: Optional[str] = Field(
        None,
        description='References private (administrative) resources used by the file.',
    )
    fileCount: Optional[int] = Field(
        None,
        description='If the file is an archive of many files, this field specifies the file count of the archive.',
    )
    md5Hash: Optional[str] = Field(
        None,
        description='The MD5 hash of the file.',
    )
    strAnalysisNotes: Optional[str] = Field(
        None,
        description='Misc. notes for reporting things such as fields that have no data and can be ignored or fields with only a single value.',
    )


class DatasetMetadata(BaseModel):
    about: Optional[str] = Field(
        None,
        description='This property provides a reference to this schema used to validate and describe the document.',
    )
    files: List[File] = Field(
        ..., description='Listing of the files contained within this dataset.'
    )


class Schema(Enum):
    CDM = 'CDM'
    VOCAB = 'VOCAB'
    RESULTS = 'RESULTS'


class IsRequired(Enum):
    Yes = 'Yes'
    No = 'No'


class CdmFieldModel(BaseModel):
    cdmTableName: str
    cdmFieldName: str
    isRequired: str
    cdmDatatype: str
    userGuidance: str
    etlConventions: str
    isPrimaryKey: str
    isForeignKey: str
    fkTableName: str
    fkFieldName: str
    fkDomain: str
    fkClass: str
    unique_DQ_identifiers: str = Field(..., alias='unique DQ identifiers')


class OmopCdmDescriptorFileSchema(BaseModel):
    cdmTableName: str = Field(..., description='The name of the CDM table.')
    schema_: Schema = Field(
        ..., alias='schema', description='Specifies the schema type of the table.'
    )
    isRequired: IsRequired = Field(..., description='Is the table required (Yes/No).')
    conceptPrefix: str = Field(..., description='???')
    measurePersonCompleteness: str = Field(..., description='???')
    measurePersonCompletenessThreshold: str
    validation: str
    tableDescription: str
    userGuidance: str
    etlConventions: str
    fields: List[CdmFieldModel]